/* SEL Admin Custom Styles */
/* Extends Tabler with project-specific overrides */

:root {
    /* Lifecycle state colors (align with backend enum) */
    --sel-published: var(--tblr-success);
    --sel-pending: var(--tblr-warning);
    --sel-cancelled: var(--tblr-danger);
    --sel-draft: var(--tblr-secondary);
}

/* Theme toggle visibility */
.hide-theme-dark {
    display: inline-flex; /* Show moon icon in light mode */
}

.hide-theme-light {
    display: none; /* Hide sun icon in light mode */
}

[data-bs-theme="dark"] .hide-theme-dark {
    display: none; /* Hide moon icon in dark mode */
}

[data-bs-theme="dark"] .hide-theme-light {
    display: inline-flex; /* Show sun icon in dark mode */
}

/* Status badges for lifecycle states */
.badge-published {
    background-color: var(--sel-published);
    color: white;
}

.badge-pending {
    background-color: var(--sel-pending);
    color: white;
}

.badge-cancelled {
    background-color: var(--sel-cancelled);
    color: white;
}

.badge-draft {
    background-color: var(--sel-draft);
    color: white;
}

/* Badge padding improvements - add breathing room around text */
.badge {
    padding: 0.35em 0.65em; /* Increased from Tabler default of ~0.25em 0.5em */
}

/* Badge text readability improvements - darker backgrounds with white text */
/* Make all status badges darker so white text is always readable */

.badge.bg-success {
    background-color: #2d7d3e !important; /* Darker green */
    color: #ffffff !important;
}

.badge.bg-warning {
    background-color: #d68500 !important; /* Darker orange/amber instead of bright yellow */
    color: #ffffff !important;
}

.badge.bg-secondary {
    background-color: #495057 !important; /* Darker gray */
    color: #ffffff !important;
}

.badge.bg-danger {
    background-color: #c92a2a !important; /* Darker red */
    color: #ffffff !important;
}

/* Dark mode adjustments - slightly lighter for contrast */
[data-bs-theme="dark"] .badge.bg-success {
    background-color: #37a349 !important; /* Slightly lighter green in dark mode */
}

[data-bs-theme="dark"] .badge.bg-warning {
    background-color: #f59f00 !important; /* Slightly lighter amber in dark mode */
}

[data-bs-theme="dark"] .badge.bg-secondary {
    background-color: #6c757d !important; /* Medium gray in dark mode */
}

[data-bs-theme="dark"] .badge.bg-danger {
    background-color: #e03131 !important; /* Slightly lighter red in dark mode */
}

/* Loading skeleton for tables */
.skeleton-row .skeleton-line {
    height: 16px;
    background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
    background-size: 200% 100%;
    animation: skeleton-loading 1.5s infinite;
    border-radius: 4px;
}

@keyframes skeleton-loading {
    0% { background-position: 200% 0; }
    100% { background-position: -200% 0; }
}

/* Copy button for API keys */
.copy-button {
    cursor: pointer;
    transition: opacity 0.2s;
}

.copy-button:hover {
    opacity: 0.7;
}

/* Side-by-side comparison for duplicates */
.duplicate-comparison .card {
    border: 2px solid transparent;
    transition: border-color 0.2s;
}

.duplicate-comparison .card.selected {
    border-color: var(--tblr-primary);
}

.duplicate-comparison dl dt {
    font-weight: 600;
}

.duplicate-comparison dl dd {
    margin-bottom: 0.5rem;
}

/* Event field display in duplicates comparison */
.event-field {
    margin-bottom: 1rem;
    padding-bottom: 0.75rem;
    border-bottom: 1px solid var(--tblr-border-color);
}

.event-field:last-child {
    border-bottom: none;
    margin-bottom: 0;
    padding-bottom: 0;
}

.event-field label {
    display: block;
    font-weight: 600;
    font-size: 0.875rem;
    color: var(--tblr-muted);
    margin-bottom: 0.25rem;
}

.event-field .value {
    font-size: 0.9375rem;
    word-wrap: break-word;
}

/* Responsive table helpers */
@media (max-width: 768px) {
    /* Stack action buttons vertically on mobile */
    .btn-list {
        flex-direction: column;
        gap: 0.5rem;
    }
    
    .btn-list .btn {
        width: 100%;
    }
    
    /* Make stat cards full width on mobile */
    .row-deck .col-sm-6 {
        margin-bottom: 1rem;
    }
}

/* Toast container positioning */
.toast-container {
    z-index: 10000;
}

/* Empty state icon size */
.empty-icon svg {
    width: 48px;
    height: 48px;
    color: var(--tblr-muted);
}

/* Form validation styles */
.form-control.is-invalid {
    border-color: var(--tblr-danger);
}

.form-control.is-valid {
    border-color: var(--tblr-success);
}

.invalid-feedback,
.valid-feedback {
    display: none;
    font-size: 0.875rem;
    margin-top: 0.25rem;
}

.form-control.is-invalid ~ .invalid-feedback {
    display: block;
    color: var(--tblr-danger);
}

.form-control.is-valid ~ .valid-feedback {
    display: block;
    color: var(--tblr-success);
}

/* Occurrence management styling */
.occurrence-list {
    border: 1px solid var(--tblr-border-color);
    border-radius: 4px;
    padding: 1rem;
    background: var(--tblr-bg-surface);
}

.occurrence-item {
    padding: 0.75rem;
    border-bottom: 1px solid var(--tblr-border-color);
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.occurrence-item:last-child {
    border-bottom: none;
}

/* Date range filter styling */
.date-range-filter {
    display: flex;
    gap: 0.5rem;
    align-items: center;
}

@media (max-width: 768px) {
    .date-range-filter {
        flex-direction: column;
        align-items: stretch;
    }
}

/* Federation node status indicators */
.node-status-active {
    color: var(--tblr-success);
}

.node-status-inactive {
    color: var(--tblr-muted);
}

.node-status-error {
    color: var(--tblr-danger);
}

/* Sticky table header */
.table-sticky-header thead {
    position: sticky;
    top: 0;
    background: white;
    z-index: 10;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

/* Highlight row on hover */
.table-hover tbody tr:hover {
    background-color: var(--tblr-bg-surface-secondary);
    cursor: pointer;
}

/* Review queue rows are clickable (except links and buttons) */
#review-queue-table tr[data-entry-id] {
    cursor: pointer;
}

/* Detail rows should not have pointer cursor - allow text selection */
#review-queue-table tr[id^="detail-"] {
    cursor: default;
}

/* Detail card content should allow text selection */
#review-queue-table tr[id^="detail-"] * {
    cursor: default;
}

/* Custom scrollbar for table containers */
.table-responsive::-webkit-scrollbar {
    height: 8px;
}

.table-responsive::-webkit-scrollbar-track {
    background: var(--tblr-bg-surface);
}

.table-responsive::-webkit-scrollbar-thumb {
    background: var(--tblr-border-color);
    border-radius: 4px;
}

.table-responsive::-webkit-scrollbar-thumb:hover {
    background: var(--tblr-muted);
}

/* Enhanced keyboard focus styles for accessibility */
/* Use :focus-visible to only show focus ring for keyboard navigation, not mouse clicks */
button:focus-visible,
.btn:focus-visible,
a.btn:focus-visible,
input:focus-visible,
select:focus-visible,
textarea:focus-visible {
    outline: 2px solid var(--tblr-primary);
    outline-offset: 2px;
    box-shadow: 0 0 0 4px rgba(6, 111, 209, 0.2);
}

/* Dark mode focus styles */
[data-bs-theme="dark"] button:focus-visible,
[data-bs-theme="dark"] .btn:focus-visible,
[data-bs-theme="dark"] a.btn:focus-visible,
[data-bs-theme="dark"] input:focus-visible,
[data-bs-theme="dark"] select:focus-visible,
[data-bs-theme="dark"] textarea:focus-visible {
    outline-color: var(--tblr-primary);
    box-shadow: 0 0 0 4px rgba(66, 153, 225, 0.3);
}

/* Ensure danger buttons have distinct focus */
.btn-danger:focus-visible,
.btn-ghost-danger:focus-visible {
    outline-color: var(--tblr-danger);
    box-shadow: 0 0 0 4px rgba(214, 57, 57, 0.2);
}

/* Success buttons focus */
.btn-success:focus-visible {
    outline-color: var(--tblr-success);
    box-shadow: 0 0 0 4px rgba(47, 179, 68, 0.2);
}

/* Warning buttons focus */
.btn-warning:focus-visible {
    outline-color: var(--tblr-warning);
    box-shadow: 0 0 0 4px rgba(245, 159, 0, 0.2);
}
